<% layout('../layout/layout') -%>
<!-- Main content -->
<section class="content" ng-controller="ctrl">
    <div>
        <select id="ddlYear" ng-model="year" ng-change="getReport()">
            <option value="">Select year</option>
            <option value="2008">2008</option>
            <option value="2009">2009</option>
            <option value="2010">2010</option>
            <option value="2011">2011</option>
            <option value="2012">2012</option>
            <option value="2013">2013</option>
            <option value="2014">2014</option>
            <option value="2015">2015</option>
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option selected="true" value="2018">2018</option>
           </select>
           <select id="ddlMonth" ng-model="month" ng-change="getReport()">
                <option value="">Select Month</option>
               <option value="January">Jan</option>
               <option value="February">Feb</option>
               <option value="March">Mar</option>
               <option value="April">April</option>
               <option value="May">May</option>
               <option value="June">June</option>
               <option value="July">July</option>
               <option value="August">Aug</option>
               <option value="September">Sep</option>
               <option value="October">Oct</option>
               <option value="November">Nov</option>
               <option value="December">Dec</option>
           </select>
           <select ng-model="circleCode" ng-change="getReport()" id="circle">
            <option value="">Select circle</option>
            <option ng-repeat="circle in circleByCode" value="{{ circle.name }}">{{ circle.name }}</option>
        </select>
        <select ng-model="clientId" ng-change="getReport()" id="client">
            <option value="">Select client</option>
            <option ng-repeat="client in clients" value="{{ client.name }}">{{ client.name }}</option>
        </select>
        <select ng-model="activityId" ng-change="getReport()" id="activity">
            <option value="">Select Activity</option>
            <option ng-repeat="activity in activityList"  value="{{activity.name}}">{{activity.name}}</option>
        </select>
        <button ng-click="clearFilter()">Clear filter</button>
    </div>
    <div class="circleClients">
        <!-- <h2>Client report</h2> --><br>
        <table class="mainTable">
            <tr>
                <td class="ccm1"><strong>Vendor Type</strong></td>
                <td class="ccm1"><strong>Vendor Name</strong></td>
                <td class="ccm1"><strong>Client Name</strong></td>
                <td class="ccm1"><strong>Circle Name</strong></td>
                <td class="ccm1"><strong>Month</strong></td>
                <td class="ccm1"><strong>Total Amount</strong></td>
            </tr>
            <tbody  class="tbodyBorder">
                <tr ng-repeat="site in report">
                    <td class="ccm1" rowspan='{{ site.vendorTypeCount }}' ng-show="site.showVendorType">{{ site.vendorType }}</td>
                    <td class="ccm1" rowspan='{{ site.vendorNameCount }}' ng-show="site.showVendorName">{{ site.vendorName }}</td>
                    <td class="ccm1" rowspan='{{ site.clientNameCount }}' ng-show="site.showClientName">{{ site.clientName }}</td>
                    <td class="ccm1" rowspan='{{ site.circleNameCount }}' ng-show="site.showCircleName">{{ site.circleName }}</td>
                    <td class="ccm1">{{ site.month }}</td>
                    <td class="ccm1">{{ site.totalAmount }}</td>
                </tr>
            </tbody>
            <tr>
                <td>&nbsp;</td>
                <td> </td>
                <td> </td>
                <td> </td>
                <td> </td>
                <td> </td>
            </tr>
            <tr>
                <td class="ccm1"><strong>Total</strong></td>
                <td class="ccm1"></td>
                <td class="ccm1"></td>
                <td class="ccm1"></td>
                <td></td>
                <td class="ccm1"><strong>{{ totalAmount }}</strong></td>
              </tr>
        </table>
    </div>
</section>

<script src="/admin/js/report/misCab.js"></script>
