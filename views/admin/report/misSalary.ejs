<% layout('../layout/layout') -%>
    <!-- Main content -->
    <section class="content" ng-controller="ctrl">
        <div>
            <select id="ddlYear" ng-model="year" ng-change="getReport()">
                <option value="">Select year</option>
                <option ng-repeat="row in selectYears">{{ row }}</option>
               </select>
               <select id="ddlMonth" ng-model="month" ng-change="getReport()">
                    <option value="">Select Month</option>
                   <option value="January">Jan</option>
                   <option value="February">Feb</option>
                   <option value="March">Mar</option>
                   <option value="April">April</option>
                   <option value="May">May</option>
                   <option value="June">June</option>
                   <option value="July">July</option>
                   <option value="August">Aug</option>
                   <option value="September">Sep</option>
                   <option value="October">Oct</option>
                   <option value="November">Nov</option>
                   <option value="December">Dec</option>
               </select>
               <select ng-model="circleCode" ng-change="getReport()" id="circle">
                <option value="">Select circle</option>
                <option ng-repeat="circle in circleByCode" value="{{ circle.name }}">{{ circle.name }}</option>
            </select>
        <button ng-click="clearFilter()">Clear filter</button>
        </div>
        <div class="circleClients">
            <table class="mainTable">
                <tr>
                    <td class="ccm1"><strong>Circle name</strong></td>
                    <td class="ccm1"><strong>Amount</strong></td>
                    <td class="ccm1"><strong>Employee Name</strong></td>
                    <td class="ccm1"><strong>Salary</strong></td>
                    <td class="ccm1"><strong>Processed salary</strong></td>
                    <td class="ccm1"><strong>Working days</strong></td>
                </tr>
                <tbody class="tbodyBorder" ng-repeat="circle in report">
                    <tr ng-repeat="employee in circle" ng-init="count = objectCount(circle);">
                        <td class="ccm1" rowspan='{{ count }}' ng-show="$index == 0"><strong>{{ employee.circleName }}</strong></td>
                        <td class="ccm1" rowspan='{{ count }}' ng-show="$index == 0">{{ circleTotalAmount[employee.circleName]| number:2 }}</td>
                        <td class="ccm1">{{ employee.employeeName }}</td>
                        <td class="ccm1">{{ employee.salary| number:2 }}</td>
                        <td class="ccm1">{{ employee.processSalary| number:2 }}</td>
                        <td class="ccm1">{{ employee.days }}</td>
                    </tr>
                </tbody>
                <tr>
                    <td>&nbsp;</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                </tr>
                <tr>
                    <td class="ccm1"><strong>Total</strong></td>
                    <td class="ccm1"><strong>{{ totalAmount| number:2 }}</strong></td>
                    <td class="ccm1"></td>
                    <td class="ccm1"></td>
                    <td></td>
                    <td class="ccm1"></td>
                  </tr>
            </table>
        </div>
    </section>

<script src="/admin/js/report/misSalary.js"></script>
   